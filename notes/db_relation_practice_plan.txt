【数据库关系实战学习路线】

一、第一层：三种基础关系（必修）
1. 一对一（1-1）
   - 能用自然语言判断：什么时候是“一人只能有一个 X”
   - 能在模型里写出：User ↔ Profile 这类一对一
   - 能写出查询：查主表时把一对一附加信息一起查出

2. 一对多（1-N）
   - 能判断：什么场景是“一个 X 拥有很多 Y”
   - 能在模型里写出：User ↔ Post、Student ↔ Book 这种关系
   - 能写出典型查询：按外键过滤、按某个用户查所有子记录

3. 多对多（N-N）
   - 能判断：两边都可以有很多的场景（学生-课程、文章-标签）
   - 知道多对多本质是：两条一对多 + 一张中间表
   - 能在模型里写出多对多和中间表
   - 能写出查询：查一端时把另一端的列表带出来

目标：看到一个需求时，能用“一对一 / 一对多 / 多对多”准确描述，并能写出对应模型和基础查询。

二、第二层：在基础关系上的进阶套路
1. 多对多 + 额外字段
   - 理解：中间表本身也是业务实体（如选课记录：成绩、时间）
   - 能设计：Student ↔ Enrollment ↔ Course 这类结构

2. 自关联（表关联自己）
   - 典型：部门的上级部门、分类的父分类
   - 能看出：其实就是同一张表上的一对多

3. 软删除、状态位
   - 理解：关系不变，但查询时要过滤状态（如只查未删除记录）

目标：面对“看起来复杂”的关系时，能拆成基础关系 + 这些套路来理解和实现。

三、第三层：组合与实战
1. 能处理一个包含多种关系的业务模块，例如：
   - 用户 ↔ 角色（多对多）
   - 用户 ↔ 订单（一对多）
   - 订单 ↔ 订单项（一对多）
   - 商品 ↔ 分类（多对一 / 多对多）

2. 能为这些关系设计：
   - 合理的表结构（字段、外键、中间表）
   - 常用查询接口（列表、详情、带关联数据）

目标：看到真实业务中的“复杂表结构”时，能识别出它们只是多种基础关系的组合，并有信心用 ORM 实现。

【建议使用方式】
- 完成某一层的练习后，在文件里自行标记“已掌握”
- 每做一个小项目时，对照检查：这三层里的要素有没有都用到或思考过

