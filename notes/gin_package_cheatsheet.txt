【gin 包常用内容速查（gin.*）】

一、基础入口与 Engine
1. gin.Default
   - 用法：r := gin.Default()
   - 含义：创建一个带有默认中间件的 Engine 实例。
   - 默认中间件：
     - 日志（Logger）：打印请求日志
     - 崩溃恢复（Recovery）：捕获 panic，返回 500，避免服务直接挂掉
   - 典型业务场景：
     - 普通 Web / API 服务的默认入口（你现在 main.go 里的用法）
     - 开发环境、简单生产服务都可以直接用

2. gin.New
   - 用法：r := gin.New()
   - 含义：创建一个“空”的 Engine，不带任何默认中间件。
   - 典型业务场景：
     - 想完全自己控制中间件（自己加日志、恢复等）
     - 对性能和日志格式有特殊要求时

3. *gin.Engine
   - 含义：Gin 的路由引擎类型，r 通常是 *gin.Engine。
   - 常用方法（在 r 上）：
     - r.GET / POST / PUT / DELETE：注册路由
     - r.Group：创建路由分组（/api、/v1 等）
     - r.Use：注册全局中间件
     - r.Run：启动 HTTP 服务
   - 典型业务场景：
     - 整个服务的路由配置入口，相当于 Django 的 urlconf 总入口

二、常用辅助类型与工具
1. gin.H
   - 用法：gin.H{"key": "value", "count": 1}
   - 含义：map[string]interface{} 的简写，用来构造 JSON 数据。
   - 典型业务场景：
     - 简单 JSON 响应（错误信息、状态信息等）
     - 不想为一小段返回新建结构体时
   - 示例：c.JSON(http.StatusOK, gin.H{"message": "ok"})

2. gin.HandlerFunc
   - 用法：func(c *gin.Context) { ... } 的类型别名。
   - 含义：路由处理函数 / 中间件的统一函数类型。
   - 典型业务场景：
     - 自定义中间件：func AuthMiddleware(c *gin.Context) { ... }
     - 普通路由处理函数：func GetBook(c *gin.Context) { ... }

三、路由方法（在 *gin.Engine 或 *gin.RouterGroup 上）
1. GET / POST / PUT / DELETE / PATCH / OPTIONS 等
   - 用法：
     - r.GET("/books", handler)
     - r.POST("/books", handler)
   - 含义：为指定 HTTP 方法和路径注册处理函数。
   - 典型业务场景：
     - RESTful API：
       - GET /books      → 列表
       - GET /books/:id  → 详情
       - POST /books     → 创建
       - PUT /books/:id  → 全量更新
       - DELETE /books/:id → 删除

2. Any
   - 用法：r.Any("/ping", handler)
   - 含义：对同一路径处理所有方法（GET、POST 等）。
   - 典型业务场景：
     - 调试接口
     - 某些对方法不敏感的简单服务端点

3. RouterGroup 与 Group
   - 用法：
     - api := r.Group("/api")
     - v1 := api.Group("/v1")
   - 含义：对路由按前缀分组，方便管理。
   - 典型业务场景：
     - /api/v1、/api/v2 版本管理
     - 给某一组路由统一加中间件（例如鉴权）

四、中间件相关
1. r.Use
   - 用法：r.Use(middleware1, middleware2, ...)
   - 含义：注册全局中间件，对所有路由生效。
   - 典型业务场景：
     - 统一日志、恢复 panic、跨域、认证等

2. group.Use
   - 用法：
     - auth := r.Group("/admin")
     - auth.Use(AuthMiddleware())
   - 含义：只对该分组下的路由生效的中间件。
   - 典型业务场景：
     - /admin 下的路由需要登录
     - /api 内的接口统一加某些 header

五、运行模式与配置
1. gin.SetMode
   - 用法：gin.SetMode(gin.ReleaseMode)
   - 可选值：
     - gin.DebugMode（默认，开发环境）
     - gin.ReleaseMode（生产环境）
     - gin.TestMode（测试环境）
   - 含义：控制日志输出等行为。
   - 典型业务场景：
     - 启动前根据环境变量设置运行模式

六、错误处理相关（了解即可）
1. gin.Error / gin.Errors
   - 作用：Gin 内部的错误封装和收集机制。
   - 一般使用：
     - 在中间件里往 Context 里追加错误，再统一处理
   - 对于初学阶段，可以先用简单的 if err != nil 手动处理即可。

【使用建议】
- 当前阶段，重点熟悉：
  - gin.Default、gin.New、gin.H
  - r.GET/POST/PUT/DELETE、r.Group
  - r.Use / group.Use
- 复杂功能（如自定义 Error 处理、模式切换）可以在写到对应需求时再回头查阅。

